function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},a={},r={},s=t.parcelRequired7c6;null==s&&((s=function(e){if(e in a)return a[e].exports;if(e in r){var t=r[e];delete r[e];var s={id:e,exports:{}};return a[e]=s,t.call(s.exports,s,s.exports),s.exports}var i=new Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}).register=function(e,t){r[e]=t},t.parcelRequired7c6=s),s("kyEFX").register(JSON.parse('{"5ZPII":"index.548a1075.js","fKKvY":"filmWrap.dabdf2b2.jpg","lp5u4":"sprite.46d65713.svg","4627Z":"my-library.6df93fbd.js"}')),s("g9qdN");var i,l=s("2vqxs"),n=s("lUsL3"),o=s("cky31");i=new URL(s("kyEFX").resolve("fKKvY"),import.meta.url).toString();var d;d=new URL(s("kyEFX").resolve("lp5u4"),import.meta.url).toString();var c=s("krGWQ");let f=1;function u(e,t){f=e;let a="";e>1&&(a+='<li class="paginationRow">&#10094;</li>'),e>1&&(a+="<li>1</li>"),e>4&&(a+='<li id="left-pagnDots">...</li>'),e>3&&(a+=`<li>${e-2}</li>`),e>2&&(a+=`<li>${e-1}</li>`),a+=`<li class="paginationPage--current">${e}</li>`,t-1>e&&(a+=`<li>${e+1}</li>`),t-2>e&&(a+=`<li>${e+2}</li>`),t-3>e&&(a+='<li id="right-pagnDots">...</li>'),t>e&&(a+=`<li>${e+5}</li>`,a+='<li class="paginationRow">&#10095;</li>'),c.refs.paginationBox.innerHTML=a}var m=s("anlFm");function g(){const e=Array.from(c.refs.imgElArr);0===e.length&&(c.refs.preloaderEl.classList.add("preloader--hide"),c.refs.bodyEl.classList.remove("no-scroll")),e.forEach(((t,a)=>{t.onload=()=>{a===e.length-1&&(c.refs.preloaderEl.classList.add("preloader--hide"),c.refs.bodyEl.classList.remove("no-scroll"))}}))}function p(e){c.refs.preloaderEl.classList.add("preloader--hide"),c.refs.bodyEl.classList.remove("no-scroll"),window.removeEventListener("load",p)}(c=s("krGWQ")).refs.bodyEl.classList.add("no-scroll"),c.refs.preloaderEl.classList.remove("preloader--hide"),window.addEventListener("load",p);c=s("krGWQ");const v=new(0,n.default);c.refs.paginationBox.addEventListener("click",(async function(e){if(v.filmName)return;{if("LI"!==e.target.nodeName)return;if("❮"===e.target.textContent){v.setPageNumber(b-=1);const e=await v.fetchPopularsFilms();return(0,m.cleanerMarkup)(c.refs.cardListEl),_(e),u(v.pageNumber,v.totalPages),void g()}if("❯"===e.target.textContent){v.setPageNumber(b+=1);const e=await v.fetchPopularsFilms();return(0,m.cleanerMarkup)(c.refs.cardListEl),_(e),u(v.pageNumber,v.totalPages),void g()}if("left-pagnDots"===e.target.id){v.setPageNumber(b-=3);const e=await v.fetchPopularsFilms();return(0,m.cleanerMarkup)(c.refs.cardListEl),_(e),u(v.pageNumber,v.totalPages),void g()}if("right-pagnDots"===e.target.id){v.setPageNumber(b+=3);const e=await v.fetchPopularsFilms();return(0,m.cleanerMarkup)(c.refs.cardListEl),_(e),u(v.pageNumber,v.totalPages),void g()}const t=e.target.textContent;v.setPageNumber(Number(t));const a=await v.fetchPopularsFilms();(0,m.cleanerMarkup)(c.refs.cardListEl),_(a),u(v.pageNumber,v.totalPages),g()}}));let b=1;async function _(t){const a=await t;c.refs.fetchDataValue=a;const r=a.map((({id:t,poster_path:a,title:r,genre_ids:s,release_date:n})=>`<li class="film__item">\n        <a class="film__link" id="${t}">\n  <div class="film__wrap">\n      <img src=${a?`https://image.tmdb.org/t/p/w500${a}`:e(i)} class="film-item__img" alt="${r}" width="300">\n  </div>\n  <div class="wrap__film>\n  <div class="film__title-wrap">\n  <h3 class="film__title">${r}</h3>\n  </div>\n  <div class="film__genres-and-date">\n  <p class="film__genres">${(0,l.searchGenresById)(s)?(0,l.searchGenresById)(s):"Unknown genre"}</p>\n  <p class="film__release-date">${n?new Date(n).getFullYear():"Nobody knows"}</p>\n\n   </div>\n   </div>\n   </a>\n   <div class="wrap-youtube">\n  <button type="button" class="btn-youtube" id="${t}">\n    <svg class="svg-youtube">\n      <use href="${e(d)}#icon-youtube"></use>\n    </svg>\n  </button>\n</div>\n   </li>`)).join("");return(0,o.renderFoo)(r,c.refs.cardListEl),await u(v.pageNumber,v.totalPages),r}_(v.fetchPopularsFilms());m=s("anlFm"),l=s("2vqxs"),o=s("cky31"),c=s("krGWQ");let h=1;async function N(t){const a=await t;if(c.refs.fetchDataValue=a,a.length){c.refs.headerErrorEl.classList.add("visually-hidden");const t=a.map((({id:t,poster_path:a,title:r,genre_ids:s,release_date:n})=>`<li class="film__item"><div class="test">\n        <a class="film__link" id="${t}">\n  <div class="film__wrap">\n  <img src=${a?`https://image.tmdb.org/t/p/original${a}`:e(i)} class="film-item__img" alt="${r}" width="300">\n  </div>\n  <div class= "film__info">\n  <div class="film__title-wrap">\n  <h3 class="film__title">${r}</h3>\n  </div>\n  <div class="film__genres-and-date">\n  <p class="film__genres">${(0,l.searchGenresById)(s)?(0,l.searchGenresById)(s):"Unknown genre"}</p>\n  <p class="film__release-date">${n?new Date(n).getFullYear():"Nobody knows"}</p>\n  </div>\n  \n   </div>\n   </div>\n   </a>\n   <div class="wrap-youtube">\n  <button type="button" class="btn-youtube" id="${t}">\n    <svg class="svg-youtube">\n      <use href="${e(d)}#icon-youtube"></use>\n    </svg>\n  </button>\n</div>\n   </li>`)).join("");return(0,o.renderFoo)(t,c.refs.cardListEl),g(),u(v.pageNumber,v.totalPages),t}await w()}function w(){g(),c.refs.headerErrorEl.classList.remove("visually-hidden"),c.refs.headerFormEl.reset(),(0,m.cleanerMarkup)(c.refs.paginationBox)}c.refs.headerFormEl.addEventListener("submit",(async function(e){e.preventDefault(),v.setPageNumber(1);let t=e.target.elements[0].value.trim();if(c.refs.expFilmName=t,!t)return void w();c.refs.bodyEl.classList.add("no-scroll"),c.refs.preloaderEl.classList.remove("preloader--hide"),setTimeout((()=>{c.refs.bodyEl.scrollIntoView({top:0,behavior:"smooth"})}),100),(0,m.cleanerMarkup)(c.refs.cardListEl),v.setFilmName(t),N(v.fetchFilmsByName()),c.refs.headerFormEl.reset()})),c.refs.paginationBox.addEventListener("click",(async function(e){if(!v.getFilmName())return;{if("LI"!==e.target.nodeName)return;if("❮"===e.target.textContent){v.setPageNumber(h-=1),v.getFilmName();const e=await v.fetchFilmsByName();return(0,m.cleanerMarkup)(c.refs.cardListEl),N(e),u(v.pageNumber,v.totalPages),void g()}if("❯"===e.target.textContent){v.setPageNumber(h+=1),v.getFilmName();const e=await v.fetchFilmsByName();return(0,m.cleanerMarkup)(c.refs.cardListEl),N(e),u(v.pageNumber,v.totalPages),void g()}if("left-pagnDots"===e.target.id){v.setPageNumber(h-=3),v.getFilmName();const e=await v.fetchFilmsByName();return(0,m.cleanerMarkup)(c.refs.cardListEl),N(e),g(),void u(v.pageNumber,v.totalPages)}if("right-pagnDots"===e.target.id){v.setPageNumber(h+=3),v.getFilmName();const e=await v.fetchFilmsByName();return(0,m.cleanerMarkup)(c.refs.cardListEl),N(e),g(),void u(v.pageNumber,v.totalPages)}const t=e.target.textContent;v.setPageNumber(Number(t));const a=await v.fetchFilmsByName();(0,m.cleanerMarkup)(c.refs.cardListEl),N(a),u(v.pageNumber,v.totalPages),g()}})),s("2eBWb"),s("010fZ"),s("1wH5c"),s("7bYU0"),s("kNOsD"),s("iLQTB"),s("c2dC2");
//# sourceMappingURL=index.548a1075.js.map
